<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="DetecTrend : Predict popular pages">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>DetecTrend</title>
    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72213326-1', 'auto');
  ga('send', 'pageview');

</script>
    
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/ptweir/detecTrend">View on GitHub</a>
          <a id="breadcrumbs_banner" href="http://ptweir.github.io/">ptweir home</a><a id="breadcrumbs_child" href="http://ptweir.github.io/detecTrend/">DetecTrend</a>
          <h1 id="project_title">DetecTrend</h1>
          <h2 id="project_tagline">Predict popular pages</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/ptweir/detecTrend/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/ptweir/detecTrend/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>
<a id="welcome" class="anchor" href="#welcome" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Predicting popular YouTube videos among K-12 students</h3>

<h6>Summary</h6>
<p class="c2"><span class="c1">The California-based company <a class="c4" href="https://www.goguardian.com/" target="_blank">GoGuardian</a> helps teachers and school administrators manage Chromebooks for millions of K-12 students nationwide. These Chromebooks represent enormous educational potential, but we all know just how distracting unlimited access to the Internet can be. To further the mission of educators, GoGuardian provides a variety of services that help schools filter content and protect students online. Among their key products is a smart YouTube filter. This feature is important because at any hour of the day approximately </span><span class="c3">35%</span><span class="c1">&nbsp;of students are watching YouTube </span><sup><a href="#ftnt1" id="ftnt_ref1">[1]</a></sup><span>. YouTube hosts a large amount of valuable educational content, so blocking the entire domain would be overly restrictive. Unfortunately, it hosts even more content that is distracting and not useful in an educational context. To filter the wheat from the chaff, GoGuardian would like to surface a small number of trending videos to administrators and teachers, thereby enabling them to make the decision whether any particular video should be accessible via school-provided laptops. I consulted with GoGuardian to create the model underlying this dashboard. The resulting model pulls data from YouTube's API and accurately predicts popular videos so that schools can make independent decisions of what each school wants or doesn't want students to watch. This model enables schools to make the final filtering decision using a dashboard provided by GoGuardian.</span></p><p class="c0"><span class="c1"></span></p>
<h6>Approach</h6>
<p class="c2"><span class="c1">Trying to filter all the videos on YouTube at any given time by hand would be impossible. Luckily, a large and fairly constant proportion of students are usually watching a small number of top videos.</span></p><p class="c0"><span class="c1"></span></p>
<object data="./images/timeseries.svg" type="image/svg+xml">
  <img src="fallback.jpg" />
</object>
<p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">Just 5 of the top 100 videos are being watching by almost ~&#8533; of the viewers at any given time, so evaluating those 5 videos would have a large impact with limited effort. Also, by focusing on just the top 5 videos I can smooth out the weekly and daily variation and focus on just predicting which videos will be popular in each hour. I split out a test set of data from the last two weeks, on which I validated the performance of different prediction algorithms.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">To build my intuition about viewership trends, below I plot the number of unique users watching a </span><span class="c1"><a class="c4" href="https://www.youtube.com/watch?v=rwEzKUp19vE" target="_blank">typical top 5 video</a></span><span class="c1">. This video reached the top 5 at 4 PM UTC on June 20, and stayed popular for the rest of the day. At and before 3 PM, no one was watching the video. By querying the YouTube API, I learned that this video was released a few minutes after 4 PM. In essence, this video became popular immediately after it was released.</span></p><p class="c0"><span class="c1"></span></p>

<div align="center"><img width="50%" src="./images/typical.svg"></div>

<p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">That is just one example, but is it really representative of the data set at large? Below I plot the average (median) number of viewers watching the top 5 videos aligned to the hour in which the video reached the top 5. The area shaded in gray contains half of all the top 5 videos. From this plot we can see that one hour before reaching the top 5, 25% of videos were being watched by zero students. Two hours before, 50% of top 5 videos had zero viewers, and 3 hours before 75% had no viewers. I conclude that videos become popular extremely rapidly, and remain popular for at least several hours after their initial peak. This makes it difficult to predict if a video will become popular based on its past viewership, because quite often that viewership was zero.</span></p><p class="c0"><span class="c1"></span></p>

<div align="center"><img width="50%" src="./images/top_triggered.svg"></div>

<p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">Although the abruptness of increases in viewership make it difficult to make predictions based on past viewership, it is possible that there are other indicators that foretell popularity. I turned to the YouTube API to get additional information about the videos in my data set. The most striking feature of top 5 videos is that they are recent. In fact, </span><span class="c3">26%</span><span class="c1">&nbsp;of all videos in the top 5 for any given hour were released less than an hour previously! If you are interested in the distribution, I have plotted a cumulative histogram below:</span></p><p class="c0"><span class="c1"></span></p>

<div align="center"><img width="90%" src="./images/time_since_published_hist.svg"></div>

<h6>Results</h6>
<p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">Because videos become popular almost immediately after being posted, a simple and amazingly effective algorithm for identifying the top 5 videos an hour from now is to look at the top 5 videos right now. Deploying this algorithm on my 2 week test set, I achieve </span><span class="c3">80%</span><span class="c1">&nbsp;average accuracy in predicting the top 5 videos in each hour. The distribution of this performance is plotted below, where you can see that I get 4 or 5 out of 5 right over &frac34; of the time.</span></p><p class="c0"><span class="c1"></span></p>

<div align="center"><img width="50%" src="./images/performance_hist.svg"></div>

<p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">By including a few more features, such as the change in performance from one to two hours previously, the number of distinct schools with students watching the video, and the time since the video was released, I can modestly improve the accuracy to 82%, but I doubt their utility, given the added complexity of the model.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">Had the simple algorithm been applied to the ~6 week dataset, an administrator would have been able to filter almost </span><span class="c1">500,000</span><span class="c1">&nbsp;unique views of potentially distracting content by evaluating just 5 videos each hour (red segment in the following plot):</span></p><p class="c0"><span class="c1"></span></p>

<div align="center"><img width="50%" src="./images/top_filtered.svg"></div>

<p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">In conclusion, even seemingly unpredictable trends can be used to build smart tools for administrators to filter content for students.</span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span></span></p>

<hr class="c8"><div><p class="c1"><a href="#ftnt_ref1" id="ftnt1">[1]</a><span class="c7">&nbsp;For the dataset I had access to, ~12,000 unique users were typically online in an hour, and ~4,300 of them were on YouTube.</span></p></div>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>Peter Weir (<a href="https://github.com/ptweir" class="user-mention">@ptweir</a>)</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">DetecTrend maintained by <a href="https://github.com/ptweir">ptweir</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
